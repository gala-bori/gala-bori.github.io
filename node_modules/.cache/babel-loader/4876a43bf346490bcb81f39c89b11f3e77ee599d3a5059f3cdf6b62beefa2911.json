{"ast":null,"code":"var _jsxFileName = \"/home/user/Downloads/Submission/src/authentification/Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = `http://sefdb02.qut.edu.au:3000`;\nfunction Register() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const register = () => {\n    const url = `${API_URL}/user/register`;\n    return fetch(url, {\n      //Function to POST email/password and register account if appropriate\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => {\n      if (res.status === 201) {\n        return res.json().then(() => {\n          alert(\"User account created, please Login!\");\n          window.location.replace(\"./login\"); // redirect to the login page\n        });\n      } else if (res.status === 400) {\n        throw new Error(\"Both email and password are required\");\n      } else if (res.status === 409) {\n        throw new Error(\"User already exists\");\n      } else if (res.status === 429) {\n        throw new Error(\"Too many requests, please try again later.\");\n      } else {\n        throw new Error(\"Registration failed\");\n      }\n    }).then(() => {}).catch(error => {\n      alert(error.message); //Alert/log any other errors...\n      console.log(error);\n    });\n  };\n  const handleEmailChange = x => {\n    //Functions to set data when requested by submission below\n    setEmail(x.target.value);\n  };\n  const handlePasswordChange = x => {\n    setPassword(x.target.value);\n  };\n  const handleSubmit = x => {\n    x.preventDefault();\n    register();\n  };\n  return (\n    /*#__PURE__*/\n    //Renders two input forms and submit button\n    _jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"register-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: handleEmailChange,\n          className: \"form-control custom-input\",\n          style: {\n            width: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 16\n          }, this), \"Password:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: handlePasswordChange,\n          className: \"form-control custom-input\",\n          style: {\n            width: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(Register, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","API_URL","Register","_s","email","setEmail","password","setPassword","register","url","fetch","method","headers","body","JSON","stringify","then","res","status","json","alert","window","location","replace","Error","catch","error","message","console","log","handleEmailChange","x","target","value","handlePasswordChange","handleSubmit","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","style","width","_c","$RefreshReg$"],"sources":["/home/user/Downloads/Submission/src/authentification/Register.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst API_URL = `http://sefdb02.qut.edu.au:3000`;\n\nfunction Register() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const register = () => {\n    const url = `${API_URL}/user/register`;\n\n    return fetch(url, { //Function to POST email/password and register account if appropriate\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((res) => {\n        if (res.status === 201) {\n          return res.json().then(() => {\n            alert(\"User account created, please Login!\");\n            window.location.replace(\"./login\"); // redirect to the login page\n          });\n        } else if (res.status === 400) {\n          throw new Error(\"Both email and password are required\");\n        } else if (res.status === 409) {\n          throw new Error(\"User already exists\");\n        } else if (res.status === 429) {\n          throw new Error(\"Too many requests, please try again later.\");\n        } else {\n          throw new Error(\"Registration failed\");\n        }\n      }).then(() => { \n      })\n      .catch((error) => {\n        alert(error.message); //Alert/log any other errors...\n        console.log(error);\n      });\n  };\n\n  const handleEmailChange = (x) => { //Functions to set data when requested by submission below\n    setEmail(x.target.value);\n  };\n\n  const handlePasswordChange = (x) => {\n    setPassword(x.target.value);\n  };\n\n  const handleSubmit = (x) => {\n    x.preventDefault();\n    register();\n  };\n\n  return ( //Renders two input forms and submit button\n    <div className=\"App\">\n      <h1>Register</h1>\n      <form onSubmit={handleSubmit} className=\"register-form\">\n        <label>Email:</label>\n        <input\n          type=\"email\"\n          value={email}\n          onChange={handleEmailChange}\n          className=\"form-control custom-input\"\n          style={{ width: \"300px\" }} \n        />\n        <label><br />Password:</label>\n        <input\n          type=\"password\"\n          value={password}\n          onChange={handlePasswordChange}\n          className=\"form-control custom-input\"\n          style={{ width: \"300px\" }}\n        />\n        <br />\n        <button type=\"submit\" className=\"btn btn-primary\">Register</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}